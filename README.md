# coupon-system
## 인프런 - 실습으로 배우는 선착순 이벤트 시스템

- race condition = 2개 이상의 쓰레드가 공유 데이터에 엑세스를 하고 동시에 작업을 하려고 할때 발생
- synchronized를 사용하여 처리하면 다중 서버에서는 제대로 동작하지 않음
- mysql, redis lock을 사용하면 해결할 수 있지만 lock을 거는 구간이 길어지면(쿠폰 갯수에 대한 정합성이 아닌 저장하는 부분까지) 성능에 불이익이 있을 수 있음
- redis incr key : value 를 사용하여 쿠폰 갯수에 대해서만 제어하면됨 = redis는 싱글스레드 기반으로 동작함 
- kafka를 사용하여 처리량을 조절하여 데이터베이스에 대한 부하를 줄일 수 있음 -> 쿠폰 생성까지 약간의 텀이 발생됨